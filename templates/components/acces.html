{% load static %}

<div class="container flex justify-center mx-auto">
  <div x-data="{ open: false }" @mouseleave="open = false" class="relative">
      <!-- Dropdown toggle button -->
      <button @mouseover="open = true" class="flex items-center p-2 rounded-t">
        <img src="{% static 'img/accessibility_white_24dp.svg'%}" alt=""/> 
      </button>

      <!-- Dropdown menu -->
      <div x-show="open"
      x-transition:enter.duration.700ms
      x-transition:leave.duration.700ms
      class="absolute right-0 py-2 bg-transparent rounded-b shadow-xl">
      <button type="button" id="aumentar">
        <img class="w-25" src="{% static 'img/zoom-in-line.svg' %}" alt="" />
      </button>
      <button type="button" id="disminuir">
        <img class="w-25" src="{% static 'img/zoom_out_black_24dp.svg' %}" alt="" />
      </button>
      <button type="button" id="restaurar">
        <img class="w-25" src="{% static 'img/restart.svg' %}" alt="" />
      </button>
      <button type="button" id="dark">
        <img class="w-25" src="{% static 'img/invert_colors_black_24dp.svg'%}" alt="" />
      </button>
      </div>
  </div>
</div>
<script type="text/javascript" charset="utf8" src="{% static 'js/cdn.alpine.min.js' %}"></script>
<script type="text/javascript">
  let classes = ["f0", "f1", "f2", "f3", "f4"];
  let classIndex = 2;
  
  document.getElementById("aumentar").addEventListener("click", () => {
    let previousClass = classIndex;
    classIndex++;
    classIndex = classIndex == classes.length ? classes.length - 1 : classIndex;
    changeClass(previousClass, classIndex);
  });

  document.getElementById("disminuir").addEventListener("click", () => {
    let previousClass = classIndex;
    classIndex--;
    classIndex = classIndex < 0 ? 0 : classIndex;
    changeClass(previousClass, classIndex);
  });

  let changeClass = (previous, next) => {
    if (previous != next) {
      let htmlElement = document.querySelector("html");
      htmlElement.classList.remove(classes[previous]);
      htmlElement.classList.add(classes[next]);
    }
  };
  document.getElementById("restaurar").addEventListener("click", () => {
    location.reload();
  });
  changeClass();
  const cuerpo = document.body;
  document.getElementById("dark").addEventListener("click", () => {
    cuerpo.classList.toggle("dark-mode");
  });
  
</script>
